<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sci-Fi Solo RPG Companion</title>

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="app-manifest.json">
    <meta name="theme-color" content="#0a0e17">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Sci-Fi RPG Companion">

    <!-- Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" href="icon-192.png">

    <!-- Styles -->
    <link rel="stylesheet" href="app-styles.css">
</head>
<body>
    <div id="app">
        <!-- Main Hub View -->
        <div id="hub-view" class="view active">
            <div class="star-field">
                <!-- Animated background stars will be generated by CSS -->
            </div>

            <header class="app-header">
                <h1 class="app-title">
                    <span class="title-main">Sci-Fi Solo RPG</span>
                    <span class="title-sub">Companion</span>
                </h1>
            </header>

            <div class="radial-container">
                <!-- Central Dice Roller -->
                <div class="central-hub">
                    <button id="dice-roller-btn" class="central-button">
                        <div class="d20-icon">
                            <svg viewBox="0 0 100 100" width="60" height="60">
                                <!-- D20 SVG with gradient -->
                                <defs>
                                    <linearGradient id="d20-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                        <stop offset="0%" style="stop-color:#ff6b35;stop-opacity:1" />
                                        <stop offset="25%" style="stop-color:#00d9ff;stop-opacity:1" />
                                        <stop offset="50%" style="stop-color:#a855f7;stop-opacity:1" />
                                        <stop offset="75%" style="stop-color:#22c55e;stop-opacity:1" />
                                        <stop offset="100%" style="stop-color:#ef4444;stop-opacity:1" />
                                    </linearGradient>
                                </defs>
                                <polygon points="50,5 20,35 35,70 65,70 80,35" fill="url(#d20-gradient)" stroke="#fff" stroke-width="1"/>
                            </svg>
                        </div>
                        <span class="central-text">DICE</span>
                    </button>
                </div>

                <!-- Radial Menu Buttons -->
                <div class="radial-menu">
                    <!-- Character Sheet (12 o'clock) -->
                    <button class="radial-btn" id="character-btn" style="--angle: 0deg; --color: #00d9ff;">
                        <div class="btn-icon">
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                            </svg>
                        </div>
                        <span class="btn-text">CHARACTER</span>
                    </button>

                    <!-- Quick Rules (2 o'clock) -->
                    <button class="radial-btn" id="rules-btn" style="--angle: 60deg; --color: #ff6b35;">
                        <div class="btn-icon">
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                <path d="M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1zm0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5v11.5z"/>
                            </svg>
                        </div>
                        <span class="btn-text">RULES</span>
                    </button>

                    <!-- Enemy/NPC Database (4 o'clock) -->
                    <button class="radial-btn" id="enemies-btn" style="--angle: 120deg; --color: #a855f7;">
                        <div class="btn-icon">
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                        </div>
                        <span class="btn-text">ENEMIES</span>
                    </button>

                    <!-- Encounter Manager (5 o'clock) -->
                    <button class="radial-btn" id="encounters-btn" style="--angle: 180deg; --color: #ef4444;">
                        <div class="btn-icon">
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                            </svg>
                        </div>
                        <span class="btn-text">COMBAT</span>
                    </button>

                    <!-- Ship & Inventory (7 o'clock) -->
                    <button class="radial-btn" id="ship-btn" style="--angle: 240deg; --color: #3b82f6;">
                        <div class="btn-icon">
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                <path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/>
                            </svg>
                        </div>
                        <span class="btn-text">SHIP</span>
                    </button>

                    <!-- Campaign Notes (10 o'clock) -->
                    <button class="radial-btn" id="notes-btn" style="--angle: 300deg; --color: #22c55e;">
                        <div class="btn-icon">
                            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                                <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                            </svg>
                        </div>
                        <span class="btn-text">NOTES</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Dice Roller Modal -->
        <div id="dice-modal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Dice Roller</h2>
                    <button class="close-btn" id="close-dice-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="dice-selection">
                        <button class="die-btn" data-die="d4">d4</button>
                        <button class="die-btn" data-die="d6">d6</button>
                        <button class="die-btn" data-die="d8">d8</button>
                        <button class="die-btn" data-die="d10">d10</button>
                        <button class="die-btn" data-die="d12">d12</button>
                        <button class="die-btn" data-die="d20">d20</button>
                        <button class="die-btn" data-die="d100">d100</button>
                    </div>

                    <div class="dice-input">
                        <input type="text" id="dice-formula" placeholder="Enter dice formula (e.g., 3d6+2)" />
                        <button id="roll-dice-btn">ROLL</button>
                    </div>

                    <div id="dice-result" class="dice-result"></div>

                    <div id="dice-history" class="dice-history">
                        <h3>Roll History</h3>
                        <div id="history-list"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Character Sheet View -->
        <div id="character-view" class="view">
            <div class="view-header">
                <button class="back-btn" data-target="hub-view">‚Üê Back to Hub</button>
                <h1>Character Sheet</h1>
            </div>
            <div class="view-content">
                <!-- Squad Management -->
                <div class="squad-section">
                    <!-- Squad Tabs -->
                    <div class="squad-tabs">
                        <button class="tab-button active" id="tab-1" onclick="switchCharacter(1)">
                            <span class="tab-number">1</span>
                            <span class="tab-name" id="tab-name-1">Character 1</span>
                        </button>
                        <button class="tab-button" id="tab-2" onclick="switchCharacter(2)">
                            <span class="tab-number">2</span>
                            <span class="tab-name" id="tab-name-2">Character 2</span>
                        </button>
                        <button class="tab-button" id="tab-3" onclick="switchCharacter(3)">
                            <span class="tab-number">3</span>
                            <span class="tab-name" id="tab-name-3">Character 3</span>
                        </button>
                        <button class="tab-button" id="tab-4" onclick="switchCharacter(4)">
                            <span class="tab-number">4</span>
                            <span class="tab-name" id="tab-name-4">Character 4</span>
                        </button>
                    </div>

                    <!-- Squad Controls -->
                    <div class="squad-controls">
                        <button onclick="saveSquad()">Save Squad</button>
                        <button onclick="loadSquad()">Load Squad</button>
                        <button onclick="clearSquad()">Clear Squad</button>
                        <button onclick="exportSquad()">Export Squad</button>
                        <button onclick="generateRandomCharacter()">Random Character</button>
                        <input type="file" id="import-input" accept=".json" style="display: none;" onchange="importSquad(event)">
                        <button onclick="document.getElementById('import-input').click()">Import Squad</button>
                    </div>
                </div>

                <div class="character-sheet" id="character-sheet">
                    <!-- Character Basics -->
                    <section class="character-basics">
                        <h2>Character Basics</h2>
                        <div class="basics-grid">
                            <div class="field">
                                <label for="character-name">Name:</label>
                                <input type="text" id="character-name" name="character-name">
                            </div>
                            <div class="field">
                                <label for="character-race">Race:</label>
                                <select id="character-race" name="character-race">
                                    <option value="">Select Race...</option>
                                    <option value="Human">Human</option>
                                    <option value="Asari">Asari</option>
                                    <option value="Turian">Turian</option>
                                    <option value="Krogan">Krogan</option>
                                    <option value="Salarian">Salarian</option>
                                    <option value="Quarian">Quarian</option>
                                    <option value="Drell">Drell</option>
                                    <option value="Batarian">Batarian</option>
                                    <option value="Vorcha">Vorcha</option>
                                    <option value="Volus">Volus</option>
                                </select>
                            </div>
                            <div class="field description-field" id="race-description-field" style="display: none;">
                                <label for="race-description">Racial Traits:</label>
                                <textarea id="race-description" name="race-description" readonly></textarea>
                            </div>
                            <div class="field description-field" id="race-effects-field" style="display: none;">
                                <label for="race-effects">Racial Bonuses:</label>
                                <textarea id="race-effects" name="race-effects" readonly></textarea>
                            </div>
                            <div class="field">
                                <label for="character-class">Class:</label>
                                <select id="character-class" name="character-class">
                                    <option value="">Select Class...</option>
                                    <option value="Soldier">Soldier</option>
                                    <option value="Engineer">Engineer</option>
                                    <option value="Adept">Adept</option>
                                    <option value="Vanguard">Vanguard</option>
                                    <option value="Sentinel">Sentinel</option>
                                    <option value="Infiltrator">Infiltrator</option>
                                </select>
                            </div>
                            <div class="field description-field" id="class-description-field" style="display: none;">
                                <label for="class-description">Class Description:</label>
                                <textarea id="class-description" name="class-description" readonly></textarea>
                            </div>
                            <div class="field description-field" id="class-effects-field" style="display: none;">
                                <label for="class-effects">Class Effects:</label>
                                <textarea id="class-effects" name="class-effects" readonly></textarea>
                            </div>
                            <div class="field">
                                <label for="character-background">Background:</label>
                                <select id="character-background" name="character-background">
                                    <option value="">Select Background...</option>
                                    <optgroup label="Generic Backgrounds">
                                        <option value="Military">Military</option>
                                        <option value="Corporate Executive">Corporate Executive</option>
                                        <option value="Frontier Colonist">Frontier Colonist</option>
                                        <option value="Criminal Underground">Criminal Underground</option>
                                        <option value="Academic Researcher">Academic Researcher</option>
                                        <option value="Mercenary">Mercenary</option>
                                        <option value="Engineer">Engineer</option>
                                        <option value="Medic">Medic</option>
                                        <option value="Pilot">Pilot</option>
                                        <option value="Diplomat">Diplomat</option>
                                    </optgroup>
                                    <optgroup label="Specialist Backgrounds">
                                        <option value="N7 Operative">N7 Operative</option>
                                        <option value="C-Sec Officer">C-Sec Officer</option>
                                        <option value="Spectre Agent">Spectre Agent</option>
                                        <option value="Alliance Marine">Alliance Marine</option>
                                        <option value="Cerberus Operative">Cerberus Operative</option>
                                        <option value="Terminus Smuggler">Terminus Smuggler</option>
                                        <option value="Citadel Politician">Citadel Politician</option>
                                        <option value="Omega Mercenary">Omega Mercenary</option>
                                        <option value="STG Agent">STG Agent</option>
                                        <option value="Migrant Fleet Engineer">Migrant Fleet Engineer</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div class="field description-field" id="background-effects-field" style="display: none;">
                                <label for="background-effects">Background Benefits:</label>
                                <textarea id="background-effects" name="background-effects" readonly></textarea>
                            </div>
                        </div>
                    </section>

                    <!-- Core Attributes -->
                    <section class="core-attributes">
                        <h2>Core Attributes</h2>
                        <div class="attributes-grid">
                            <div class="attribute">
                                <label for="health">Health:</label>
                                <input type="number" id="health" name="health" min="0" max="20" value="0">
                            </div>
                            <div class="attribute">
                                <label for="combat">Combat:</label>
                                <input type="number" id="combat" name="combat" min="0" max="20" value="0">
                            </div>
                            <div class="attribute">
                                <label for="evasion">Evasion:</label>
                                <input type="number" id="evasion" name="evasion" min="0" max="20" value="0">
                            </div>
                            <div class="attribute">
                                <label for="speed">Speed:</label>
                                <input type="number" id="speed" name="speed" min="0" max="20" value="0">
                            </div>
                            <div class="attribute">
                                <label for="charisma">Charisma:</label>
                                <input type="number" id="charisma" name="charisma" min="0" max="20" value="0">
                            </div>
                            <div class="attribute">
                                <label for="tech">Tech:</label>
                                <input type="number" id="tech" name="tech" min="0" max="20" value="0">
                            </div>
                            <div class="attribute">
                                <label for="biotics">Biotics:</label>
                                <input type="number" id="biotics" name="biotics" min="0" max="20" value="0">
                            </div>
                        </div>
                        <div class="credits-section">
                            <div class="field">
                                <label for="credits">Credits:</label>
                                <input type="number" id="credits" name="credits" min="0" value="0">
                            </div>
                        </div>
                        <div class="clear-section">
                            <button type="button" id="clear-character-btn" class="clear-btn">
                                <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                                </svg>
                                Clear All Data
                            </button>
                        </div>
                    </section>

                    <!-- Equipment -->
                    <section class="equipment">
                        <h2>Equipment</h2>
                        <div class="equipment-grid">
                            <div class="equipment-slot">
                                <label for="primary-weapon">Primary Weapon:</label>
                                <select id="primary-weapon" name="primary-weapon">
                                    <option value="">Select Primary Weapon...</option>
                                    <!-- Assault Rifles -->
                                    <optgroup label="Assault Rifles">
                                        <option value="M-8 Avenger">M-8 Avenger</option>
                                        <option value="M-15 Vindicator">M-15 Vindicator</option>
                                        <option value="M-76 Revenant">M-76 Revenant</option>
                                        <option value="M-96 Mattock">M-96 Mattock</option>
                                        <option value="M-37 Falcon">M-37 Falcon</option>
                                        <option value="Geth Pulse Rifle">Geth Pulse Rifle</option>
                                        <option value="Collector Assault Rifle">Collector Assault Rifle</option>
                                        <option value="Cerberus Harrier">Cerberus Harrier</option>
                                        <option value="N7 Valkyrie">N7 Valkyrie</option>
                                        <option value="Krysae Sniper Rifle">Krysae Sniper Rifle</option>
                                    </optgroup>
                                    <!-- Sniper Rifles -->
                                    <optgroup label="Sniper Rifles">
                                        <option value="M-92 Mantis">M-92 Mantis</option>
                                        <option value="M-97 Viper">M-97 Viper</option>
                                        <option value="M-98 Widow">M-98 Widow</option>
                                        <option value="M-29 Incisor">M-29 Incisor</option>
                                        <option value="M-13 Raptor">M-13 Raptor</option>
                                        <option value="Geth Spitfire">Geth Spitfire</option>
                                        <option value="Javelin">Javelin</option>
                                        <option value="N7 Valiant">N7 Valiant</option>
                                        <option value="Black Widow">Black Widow</option>
                                        <option value="Kishock Harpoon Gun">Kishock Harpoon Gun</option>
                                    </optgroup>
                                    <!-- Shotguns -->
                                    <optgroup label="Shotguns">
                                        <option value="M-23 Katana">M-23 Katana</option>
                                        <option value="M-27 Scimitar">M-27 Scimitar</option>
                                        <option value="M-300 Claymore">M-300 Claymore</option>
                                        <option value="M-22 Eviscerator">M-22 Eviscerator</option>
                                        <option value="Geth Plasma Shotgun">Geth Plasma Shotgun</option>
                                        <option value="Graal Spike Thrower">Graal Spike Thrower</option>
                                        <option value="M-11 Wraith">M-11 Wraith</option>
                                        <option value="N7 Crusader">N7 Crusader</option>
                                        <option value="Reegar Carbine">Reegar Carbine</option>
                                        <option value="Venom Shotgun">Venom Shotgun</option>
                                    </optgroup>
                                    <!-- SMGs -->
                                    <optgroup label="SMGs">
                                        <option value="M-4 Shuriken">M-4 Shuriken</option>
                                        <option value="M-9 Tempest">M-9 Tempest</option>
                                        <option value="M-12 Locust">M-12 Locust</option>
                                        <option value="M-25 Hornet">M-25 Hornet</option>
                                        <option value="Geth Plasma SMG">Geth Plasma SMG</option>
                                        <option value="Collector SMG">Collector SMG</option>
                                        <option value="N7 Hurricane">N7 Hurricane</option>
                                        <option value="Blood Pack Punisher">Blood Pack Punisher</option>
                                    </optgroup>
                                    <!-- Pistols -->
                                    <optgroup label="Pistols">
                                        <option value="M-3 Predator">M-3 Predator</option>
                                        <option value="M-5 Phalanx">M-5 Phalanx</option>
                                        <option value="M-6 Carnifex">M-6 Carnifex</option>
                                        <option value="M-77 Paladin">M-77 Paladin</option>
                                        <option value="Arc Pistol">Arc Pistol</option>
                                        <option value="Executioner Pistol">Executioner Pistol</option>
                                        <option value="N7 Eagle">N7 Eagle</option>
                                        <option value="Scorpion">Scorpion</option>
                                        <option value="Talon">Talon</option>
                                        <option value="Acolyte">Acolyte</option>
                                    </optgroup>
                                </select>
                            </div>

                            <div class="equipment-slot">
                                <label for="secondary-weapon">Secondary Weapon:</label>
                                <select id="secondary-weapon" name="secondary-weapon">
                                    <option value="">Select Secondary Weapon...</option>
                                    <!-- Same options as primary weapon -->
                                    <optgroup label="Assault Rifles">
                                        <option value="M-8 Avenger">M-8 Avenger</option>
                                        <option value="M-15 Vindicator">M-15 Vindicator</option>
                                        <option value="M-76 Revenant">M-76 Revenant</option>
                                        <option value="M-96 Mattock">M-96 Mattock</option>
                                        <option value="M-37 Falcon">M-37 Falcon</option>
                                    </optgroup>
                                    <optgroup label="Sniper Rifles">
                                        <option value="M-92 Mantis">M-92 Mantis</option>
                                        <option value="M-97 Viper">M-97 Viper</option>
                                        <option value="M-98 Widow">M-98 Widow</option>
                                    </optgroup>
                                    <optgroup label="Shotguns">
                                        <option value="M-23 Katana">M-23 Katana</option>
                                        <option value="M-27 Scimitar">M-27 Scimitar</option>
                                        <option value="M-300 Claymore">M-300 Claymore</option>
                                    </optgroup>
                                    <optgroup label="SMGs">
                                        <option value="M-4 Shuriken">M-4 Shuriken</option>
                                        <option value="M-9 Tempest">M-9 Tempest</option>
                                        <option value="M-12 Locust">M-12 Locust</option>
                                    </optgroup>
                                    <optgroup label="Pistols">
                                        <option value="M-3 Predator">M-3 Predator</option>
                                        <option value="M-5 Phalanx">M-5 Phalanx</option>
                                        <option value="M-6 Carnifex">M-6 Carnifex</option>
                                    </optgroup>
                                </select>
                            </div>

                            <div class="equipment-slot">
                                <label for="armor">Armor:</label>
                                <select id="armor" name="armor">
                                    <option value="">Select Armor...</option>
                                    <optgroup label="Light Armor - Sirta Foundation">
                                        <option value="Phoenix Armor I">Phoenix Armor I</option>
                                        <option value="Phoenix Armor II">Phoenix Armor II</option>
                                        <option value="Phoenix Armor III">Phoenix Armor III</option>
                                    </optgroup>
                                    <optgroup label="Light Armor - Serrice Council">
                                        <option value="Phantom Armor I">Phantom Armor I</option>
                                        <option value="Phantom Armor II">Phantom Armor II</option>
                                        <option value="Phantom Armor III">Phantom Armor III</option>
                                    </optgroup>
                                    <optgroup label="Light Armor - Aldrin Labs">
                                        <option value="Hydra Armor I">Hydra Armor I</option>
                                        <option value="Hydra Armor II">Hydra Armor II</option>
                                        <option value="Hydra Armor III">Hydra Armor III</option>
                                        <option value="Agent Armor I">Agent Armor I (Turian Only)</option>
                                        <option value="Agent Armor II">Agent Armor II (Turian Only)</option>
                                        <option value="Agent Armor III">Agent Armor III (Turian Only)</option>
                                    </optgroup>
                                    <optgroup label="Light Armor - Ariake Technologies">
                                        <option value="Mercenary Armor I">Mercenary Armor I</option>
                                        <option value="Mercenary Armor II">Mercenary Armor II</option>
                                        <option value="Mercenary Armor III">Mercenary Armor III</option>
                                    </optgroup>
                                    <optgroup label="Light Armor - Devlon Industries">
                                        <option value="Explorer Armor I">Explorer Armor I</option>
                                        <option value="Explorer Armor II">Explorer Armor II</option>
                                        <option value="Explorer Armor III">Explorer Armor III</option>
                                    </optgroup>
                                    <optgroup label="Light Armor - Elkoss Combine">
                                        <option value="Assassin Armor I">Assassin Armor I (Human Only)</option>
                                        <option value="Assassin Armor II">Assassin Armor II (Human Only)</option>
                                        <option value="Assassin Armor III">Assassin Armor III (Human Only)</option>
                                    </optgroup>
                                    <optgroup label="Light Armor - Elanus Risk Control">
                                        <option value="Duelist Armor I">Duelist Armor I</option>
                                        <option value="Duelist Armor II">Duelist Armor II</option>
                                        <option value="Duelist Armor III">Duelist Armor III</option>
                                    </optgroup>
                                    <optgroup label="Medium Armor - Elanus Risk Control">
                                        <option value="Guardian Armor I">Guardian Armor I</option>
                                        <option value="Guardian Armor II">Guardian Armor II</option>
                                        <option value="Guardian Armor III">Guardian Armor III</option>
                                    </optgroup>
                                    <optgroup label="Medium Armor - Hahne-Kedar">
                                        <option value="Mantis Armor I">Mantis Armor I</option>
                                        <option value="Mantis Armor II">Mantis Armor II</option>
                                        <option value="Mantis Armor III">Mantis Armor III</option>
                                        <option value="Silverback Armor I">Silverback Armor I</option>
                                        <option value="Silverback Armor II">Silverback Armor II</option>
                                        <option value="Silverback Armor III">Silverback Armor III</option>
                                    </optgroup>
                                    <optgroup label="Medium Armor - Rosenkov Materials">
                                        <option value="Thermal Armor I">Thermal Armor I</option>
                                        <option value="Thermal Armor II">Thermal Armor II</option>
                                        <option value="Thermal Armor III">Thermal Armor III</option>
                                    </optgroup>
                                    <optgroup label="Medium Armor - Aldrin Labs">
                                        <option value="Onyx Armor I">Onyx Armor I</option>
                                        <option value="Onyx Armor II">Onyx Armor II</option>
                                        <option value="Onyx Armor III">Onyx Armor III</option>
                                    </optgroup>
                                    <optgroup label="Medium Armor - Armax Arsenal">
                                        <option value="Predator Armor I">Predator Armor I</option>
                                        <option value="Predator Armor II">Predator Armor II</option>
                                        <option value="Predator Armor III">Predator Armor III</option>
                                    </optgroup>
                                    <optgroup label="Medium Armor - Devlon Industries">
                                        <option value="Liberator Armor I">Liberator Armor I</option>
                                        <option value="Liberator Armor II">Liberator Armor II</option>
                                        <option value="Liberator Armor III">Liberator Armor III</option>
                                    </optgroup>
                                    <optgroup label="Medium Armor - Elkoss Combine">
                                        <option value="Gladiator Armor I">Gladiator Armor I</option>
                                        <option value="Gladiator Armor II">Gladiator Armor II</option>
                                        <option value="Gladiator Armor III">Gladiator Armor III</option>
                                    </optgroup>
                                    <optgroup label="Heavy Armor - Elanus Risk Control">
                                        <option value="Warlord Armor I">Warlord Armor I (Krogan Only)</option>
                                        <option value="Warlord Armor II">Warlord Armor II (Krogan Only)</option>
                                        <option value="Warlord Armor III">Warlord Armor III (Krogan Only)</option>
                                    </optgroup>
                                    <optgroup label="Heavy Armor - Geth Armory">
                                        <option value="Battlemaster Armor I">Battlemaster Armor I (Krogan Only)</option>
                                        <option value="Battlemaster Armor II">Battlemaster Armor II (Krogan Only)</option>
                                        <option value="Battlemaster Armor III">Battlemaster Armor III (Krogan Only)</option>
                                        <option value="Berserker Armor I">Berserker Armor I (Krogan Only)</option>
                                        <option value="Berserker Armor II">Berserker Armor II (Krogan Only)</option>
                                        <option value="Berserker Armor III">Berserker Armor III (Krogan Only)</option>
                                        <option value="Rage Armor I">Rage Armor I (Krogan Only)</option>
                                        <option value="Rage Armor II">Rage Armor II (Krogan Only)</option>
                                        <option value="Rage Armor III">Rage Armor III (Krogan Only)</option>
                                    </optgroup>
                                    <optgroup label="Heavy Armor - Hahne-Kedar">
                                        <option value="Scorpion Armor I">Scorpion Armor I</option>
                                        <option value="Scorpion Armor II">Scorpion Armor II</option>
                                        <option value="Scorpion Armor III">Scorpion Armor III</option>
                                    </optgroup>
                                    <optgroup label="Heavy Armor - Kassa Fabrication">
                                        <option value="Colossus Armor I">Colossus Armor I</option>
                                        <option value="Colossus Armor II">Colossus Armor II</option>
                                        <option value="Colossus Armor III">Colossus Armor III</option>
                                    </optgroup>
                                    <optgroup label="Heavy Armor - Rosenkov Materials">
                                        <option value="Titan Armor I">Titan Armor I</option>
                                        <option value="Titan Armor II">Titan Armor II</option>
                                        <option value="Titan Armor III">Titan Armor III</option>
                                        <option value="Ursa Armor I">Ursa Armor I</option>
                                        <option value="Ursa Armor II">Ursa Armor II</option>
                                        <option value="Ursa Armor III">Ursa Armor III</option>
                                    </optgroup>
                                    <optgroup label="Heavy Armor - Armax Arsenal">
                                        <option value="Predator X Armor I">Predator X Armor I</option>
                                        <option value="Predator X Armor II">Predator X Armor II</option>
                                        <option value="Predator X Armor III">Predator X Armor III</option>
                                    </optgroup>
                                </select>
                            </div>

                            <div class="equipment-slot">
                                <label for="omni-tool">Omni-Tool:</label>
                                <select id="omni-tool" name="omni-tool">
                                    <option value="">Select Omni-Tool...</option>
                                    <optgroup label="Tier 1">
                                        <option value="Hahne-Kedar OT-11">Hahne-Kedar OT-11</option>
                                        <option value="Kassa Fabrication OT-12">Kassa Fabrication OT-12</option>
                                        <option value="Sirta Foundation OT-13">Sirta Foundation OT-13</option>
                                    </optgroup>
                                    <optgroup label="Tier 2">
                                        <option value="Aldrin Labs OT-21">Aldrin Labs OT-21</option>
                                        <option value="Ariake Technologies OT-22">Ariake Technologies OT-22</option>
                                        <option value="Rosenkov Materials OT-23">Rosenkov Materials OT-23</option>
                                    </optgroup>
                                    <optgroup label="Tier 3">
                                        <option value="Techtronic OT-31">Techtronic OT-31</option>
                                        <option value="Devlon Industries OT-32">Devlon Industries OT-32</option>
                                        <option value="Elkoss Combine OT-33">Elkoss Combine OT-33</option>
                                    </optgroup>
                                </select>
                            </div>

                            <div class="equipment-slot">
                                <label for="biotic-amp">Biotic Amp:</label>
                                <select id="biotic-amp" name="biotic-amp">
                                    <option value="">Select Biotic Amp...</option>
                                    <optgroup label="Tier 1">
                                        <option value="L1 Biotic Amp">L1 Biotic Amp</option>
                                        <option value="L2 Biotic Amp">L2 Biotic Amp</option>
                                        <option value="L3 Biotic Amp">L3 Biotic Amp</option>
                                    </optgroup>
                                    <optgroup label="Tier 2">
                                        <option value="L4 Biotic Amp">L4 Biotic Amp</option>
                                        <option value="L5 Biotic Amp">L5 Biotic Amp</option>
                                        <option value="L6 Biotic Amp">L6 Biotic Amp</option>
                                    </optgroup>
                                    <optgroup label="Tier 3">
                                        <option value="L7 Biotic Amp">L7 Biotic Amp</option>
                                        <option value="L8 Biotic Amp">L8 Biotic Amp</option>
                                        <option value="L9 Biotic Amp">L9 Biotic Amp</option>
                                    </optgroup>
                                </select>
                            </div>
                        </div>

                        <!-- Equipment Descriptions -->
                        <div class="equipment-descriptions">
                            <div class="field description-field" id="primary-weapon-effects-field" style="display: none;">
                                <label for="primary-weapon-effects">Primary Weapon Stats:</label>
                                <textarea id="primary-weapon-effects" name="primary-weapon-effects" readonly></textarea>
                            </div>

                            <div class="field description-field" id="secondary-weapon-effects-field" style="display: none;">
                                <label for="secondary-weapon-effects">Secondary Weapon Stats:</label>
                                <textarea id="secondary-weapon-effects" name="secondary-weapon-effects" readonly></textarea>
                            </div>

                            <div class="field description-field" id="armor-effects-field" style="display: none;">
                                <label for="armor-effects">Armor Stats:</label>
                                <textarea id="armor-effects" name="armor-effects" readonly></textarea>
                            </div>

                            <div class="field description-field" id="omni-tool-effects-field" style="display: none;">
                                <label for="omni-tool-effects">Omni-Tool Features:</label>
                                <textarea id="omni-tool-effects" name="omni-tool-effects" readonly></textarea>
                            </div>

                            <div class="field description-field" id="biotic-amp-effects-field" style="display: none;">
                                <label for="biotic-amp-effects">Biotic Amp Capabilities:</label>
                                <textarea id="biotic-amp-effects" name="biotic-amp-effects" readonly></textarea>
                            </div>

                        </div>
                    </section>

                    <!-- Combat Tracking -->
                    <section class="combat-tracking">
                        <h2>Combat Tracking</h2>
                        <div class="combat-grid">
                            <div class="combat-stat">
                                <label for="hp-current">Health Points:</label>
                                <div class="pool-controls">
                                    <input type="number" id="hp-current" name="hp-current" min="0" value="0" class="current">
                                    <span>/</span>
                                    <input type="number" id="hp-max" name="hp-max" min="0" value="0" class="max">
                                    <div class="pool-buttons">
                                        <button onclick="adjustPool('hp', -1)">-</button>
                                        <button onclick="adjustPool('hp', 1)">+</button>
                                    </div>
                                </div>
                            </div>

                            <div class="combat-stat">
                                <label for="biotic-energy-current">Biotic Energy:</label>
                                <div class="pool-controls">
                                    <input type="number" id="biotic-energy-current" name="biotic-energy-current" min="0" value="0" class="current">
                                    <span>/</span>
                                    <input type="number" id="biotic-energy-max" name="biotic-energy-max" min="0" value="0" class="max">
                                    <div class="pool-buttons">
                                        <button onclick="adjustPool('biotic-energy', -1)">-</button>
                                        <button onclick="adjustPool('biotic-energy', 1)">+</button>
                                    </div>
                                </div>
                            </div>

                            <div class="combat-stat">
                                <label for="tech-points-current">Tech Points:</label>
                                <div class="pool-controls">
                                    <input type="number" id="tech-points-current" name="tech-points-current" min="0" value="0" class="current">
                                    <span>/</span>
                                    <input type="number" id="tech-points-max" name="tech-points-max" min="0" value="0" class="max">
                                    <div class="pool-buttons">
                                        <button onclick="adjustPool('tech-points', -1)">-</button>
                                        <button onclick="adjustPool('tech-points', 1)">+</button>
                                    </div>
                                </div>
                            </div>

                            <div class="combat-stat armor-display">
                                <label for="armor-value">Armor Value:</label>
                                <input type="number" id="armor-value" name="armor-value" min="0" value="0" readonly>
                            </div>
                        </div>

                        <div class="combat-grid">
                            <div class="combat-stat">
                                <label for="kb-current">Kinetic Barriers:</label>
                                <div class="pool-controls">
                                    <input type="number" id="kb-current" name="kb-current" min="0" value="0" class="current">
                                    <span>/</span>
                                    <input type="number" id="kb-max" name="kb-max" min="0" value="0" class="max">
                                    <div class="pool-buttons">
                                        <button onclick="adjustPool('kb', -1)">-</button>
                                        <button onclick="adjustPool('kb', 1)">+</button>
                                    </div>
                                </div>
                            </div>

                            <div class="combat-stat">
                                <label for="bb-current">Biotic Barriers:</label>
                                <div class="pool-controls">
                                    <input type="number" id="bb-current" name="bb-current" min="0" value="0" class="current">
                                    <span>/</span>
                                    <input type="number" id="bb-max" name="bb-max" min="0" value="0" class="max">
                                    <div class="pool-buttons">
                                        <button onclick="adjustPool('bb', -1)">-</button>
                                        <button onclick="adjustPool('bb', 1)">+</button>
                                    </div>
                                </div>
                            </div>

                            <div class="status-effects">
                                <label>Status Effects:</label>

                                <!-- Add New Effect Controls -->
                                <div class="add-effect-controls">
                                    <select id="effect-select" class="effect-dropdown">
                                        <option value="">Select Status Effect...</option>
                                        <optgroup label="Debuffs">
                                            <option value="Stunned">Stunned</option>
                                            <option value="Dazed">Dazed</option>
                                            <option value="Knocked Prone">Knocked Prone</option>
                                            <option value="Lifted">Lifted</option>
                                            <option value="Frozen">Frozen</option>
                                            <option value="Burning">Burning</option>
                                            <option value="Poisoned">Poisoned</option>
                                            <option value="Bleeding">Bleeding</option>
                                            <option value="Blinded">Blinded</option>
                                            <option value="Deafened">Deafened</option>
                                            <option value="Slowed">Slowed</option>
                                            <option value="Weakened">Weakened</option>
                                            <option value="Dominated">Dominated</option>
                                            <option value="Immobilized">Immobilized</option>
                                        </optgroup>
                                        <optgroup label="Buffs">
                                            <option value="Biotic Barrier">Biotic Barrier</option>
                                            <option value="Shield Boost">Shield Boost</option>
                                            <option value="Adrenaline Rush">Adrenaline Rush</option>
                                            <option value="Enhanced Reflexes">Enhanced Reflexes</option>
                                            <option value="Combat Stimulant">Combat Stimulant</option>
                                            <option value="Tactical Advantage">Tactical Advantage</option>
                                        </optgroup>
                                        <optgroup label="Conditions">
                                            <option value="Heavy Injury">Heavy Injury</option>
                                            <option value="Critical Injury">Critical Injury</option>
                                            <option value="Exhausted">Exhausted</option>
                                            <option value="Overheated">Overheated</option>
                                            <option value="System Malfunction">System Malfunction</option>
                                        </optgroup>
                                        <optgroup label="Environmental">
                                            <option value="In Cover">In Cover</option>
                                            <option value="Exposed">Exposed</option>
                                            <option value="Zero Gravity">Zero Gravity</option>
                                            <option value="Toxic Atmosphere">Toxic Atmosphere</option>
                                            <option value="Extreme Heat">Extreme Heat</option>
                                            <option value="Extreme Cold">Extreme Cold</option>
                                        </optgroup>
                                    </select>

                                    <select id="duration-select" class="duration-dropdown">
                                        <option value="">Duration...</option>
                                        <option value="1 turn">1 Turn</option>
                                        <option value="2 turns">2 Turns</option>
                                        <option value="3 turns">3 Turns</option>
                                        <option value="4 turns">4 Turns</option>
                                        <option value="5 turns">5 Turns</option>
                                        <option value="1 round">1 Round</option>
                                        <option value="2 rounds">2 Rounds</option>
                                        <option value="3 rounds">3 Rounds</option>
                                        <option value="end of encounter">End of Encounter</option>
                                        <option value="end of scene">End of Scene</option>
                                        <option value="permanent">Permanent</option>
                                        <option value="until healed">Until Healed</option>
                                        <option value="until rest">Until Rest</option>
                                    </select>

                                    <button id="add-effect-btn" class="add-effect-button">Add Effect</button>
                                </div>

                                <!-- Active Effects List -->
                                <div id="active-effects" class="active-effects-list">
                                    <!-- Effects will be added here dynamically -->
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Biotic Powers -->
                    <section class="biotic-powers">
                        <h2>Biotic Powers</h2>
                        <div class="powers-section">
                            <div class="power-controls">
                                <div class="add-power-controls">
                                    <select id="biotic-power-select" class="power-dropdown">
                                        <option value="">Select Biotic Power...</option>
                                        <optgroup label="Offensive Powers">
                                            <option value="Throw">Throw</option>
                                            <option value="Warp">Warp</option>
                                            <option value="Singularity">Singularity</option>
                                            <option value="Biotic Charge">Biotic Charge</option>
                                            <option value="Slam">Slam</option>
                                            <option value="Reave">Reave</option>
                                            <option value="Lash">Lash</option>
                                        </optgroup>
                                        <optgroup label="Defensive Powers">
                                            <option value="Barrier">Barrier</option>
                                            <option value="Stasis">Stasis</option>
                                            <option value="Lift">Lift</option>
                                            <option value="Pull">Pull</option>
                                        </optgroup>
                                        <optgroup label="Support Powers">
                                            <option value="Unity">Unity</option>
                                            <option value="Dominate">Dominate</option>
                                            <option value="Mind Control">Mind Control</option>
                                        </optgroup>
                                    </select>
                                    <button id="add-biotic-power-btn" type="button" disabled>Add Power</button>
                                </div>
                            </div>

                            <!-- Active Biotic Powers List -->
                            <div id="active-biotic-powers" class="active-powers-list">
                                <div class="no-powers-message" id="no-biotic-powers-message">
                                    No biotic powers selected. Choose from the dropdown above to add powers.
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Tech Powers -->
                    <section class="tech-powers">
                        <h2>Tech Powers</h2>
                        <div class="powers-section">
                            <div class="power-controls">
                                <div class="add-power-controls">
                                    <select id="tech-power-select" class="power-dropdown">
                                        <option value="">Select Tech Power...</option>
                                        <optgroup label="Hacking Powers">
                                            <option value="Sabotage">Sabotage</option>
                                            <option value="AI Hacking">AI Hacking</option>
                                            <option value="Overload">Overload</option>
                                            <option value="Neural Shock">Neural Shock</option>
                                        </optgroup>
                                        <optgroup label="Combat Powers">
                                            <option value="Incinerate">Incinerate</option>
                                            <option value="Cryo Blast">Cryo Blast</option>
                                            <option value="Energy Drain">Energy Drain</option>
                                            <option value="Combat Drone">Combat Drone</option>
                                        </optgroup>
                                        <optgroup label="Defense Powers">
                                            <option value="Tech Armor">Tech Armor</option>
                                            <option value="Defense Matrix">Defense Matrix</option>
                                            <option value="Fortification">Fortification</option>
                                        </optgroup>
                                        <optgroup label="Support Powers">
                                            <option value="First Aid">First Aid</option>
                                            <option value="Decryption">Decryption</option>
                                            <option value="Electronics">Electronics</option>
                                            <option value="Hacking">Hacking</option>
                                        </optgroup>
                                    </select>
                                    <button id="add-tech-power-btn" type="button" disabled>Add Power</button>
                                </div>
                            </div>

                            <!-- Active Tech Powers List -->
                            <div id="active-tech-powers" class="active-powers-list">
                                <div class="no-powers-message" id="no-tech-powers-message">
                                    No tech powers selected. Choose from the dropdown above to add powers.
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>

        <!-- Other views will be added as we build them -->
        <div id="rules-view" class="view">
            <div class="view-header">
                <button class="back-btn" data-target="hub-view">‚Üê Back to Hub</button>
                <h1>Quick Rules Reference</h1>
            </div>
            <div class="view-content">
                <p>Rules reference coming soon...</p>
            </div>
        </div>

        <div id="enemies-view" class="view">
            <div class="view-header">
                <button class="back-btn" data-target="hub-view">‚Üê Back to Hub</button>
                <h1>Enemy Database</h1>
            </div>
            <div class="view-content">
                <p>Enemy database coming soon...</p>
            </div>
        </div>

        <div id="encounters-view" class="view">
            <div class="view-header">
                <button class="back-btn" data-target="hub-view">‚Üê Back to Hub</button>
                <h1>Encounter Manager</h1>
            </div>
            <div class="view-content">
                <p>Encounter manager coming soon...</p>
            </div>
        </div>

        <div id="ship-view" class="view">
            <div class="view-header">
                <button class="back-btn" data-target="hub-view">‚Üê Back to Hub</button>
                <h1>Ship & Inventory</h1>
            </div>
            <div class="view-content">
                <p>Ship and inventory coming soon...</p>
            </div>
        </div>

        <div id="notes-view" class="view">
            <div class="view-header">
                <button class="back-btn" data-target="hub-view">‚Üê Back to Hub</button>
                <h1>Campaign Notes</h1>
            </div>
            <div class="view-content">
                <p>Campaign notes coming soon...</p>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>